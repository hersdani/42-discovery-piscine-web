<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>42-discovery-piscine-web</title>
</head>
  <body>
    <ul id="fileList"></ul>

    <script>
      async function fetchHTMLFiles(url) {
        const response = await fetch(url);
        const data = await response.json();
        let htmlString = '';

        for (let file of data) {
          if (file.type === 'file' && file.name.endsWith('.html')) {
            htmlString += `<li><a href="${file.html_url}">${file.name}</a></li>`;
          } else if (file.type === 'dir') {
            htmlString += await fetchHTMLFiles(file.url);
          }
        }

        return htmlString;
      }

      (async () => {
        const repositoryUrl = 'https://api.github.com/repos/hersdani/42-discovery-piscine-web/contents/';
        const fileListElement = document.getElementById('fileList');
        fileListElement.innerHTML = await fetchHTMLFiles(repositoryUrl);
      })();
    </script>
  </body>
</html>
